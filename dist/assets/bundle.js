(()=>{var e={256:()=>{"use strict";function e(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const n=new(function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.base="https://www.themealdb.com/api/json/v1/1/",this.params={searchByString:"search.php?s=",searchById:"lookup.php?i="}}var r,i,a,s;return r=n,(i=[{key:"search",value:(a=regeneratorRuntime.mark((function e(t){var n,r,i,a,s,c,u,l,p,h,d,f,m,v,_,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.target.value){e.next=2;break}return e.abrupt("return",o.resetSearchForm());case 2:if("input"!==t.type){e.next=11;break}return n=this.base+this.params.searchByString+t.target.value,e.next=6,fetch(n);case 6:return r=e.sent,e.next=9,r.json();case 9:return i=e.sent,e.abrupt("return",o.updateRecommendedList(i.meals));case 11:if("submit"!==t.type){e.next=21;break}return t.preventDefault(),a=this.base+this.params.searchByString+t.currentTarget.searchInput.value,e.next=16,fetch(a);case 16:return s=e.sent,e.next=19,s.json();case 19:return c=e.sent,e.abrupt("return",o.updateRecipesList(c.meals));case 21:if("LI"!==t.target.tagName||!t.target.className.includes("recommended-list")){e.next=30;break}return u=this.base+this.params.searchByString+t.target.innerText,e.next=25,fetch(u);case 25:return l=e.sent,e.next=28,l.json();case 28:return p=e.sent,e.abrupt("return",o.updateRecipesList(p.meals));case 30:if("LI"!==t.target.tagName||!t.target.className.includes("recipes-list")){e.next=40;break}return h=t.target.lastElementChild.firstElementChild.innerText,d=this.base+this.params.searchByString+h,e.next=35,fetch(d);case 35:return f=e.sent,e.next=38,f.json();case 38:return m=e.sent,e.abrupt("return",o.createPopup(m.meals[0]));case 40:if("IMG"!==t.target.tagName||!t.target.className.includes("favorites-list")){e.next=50;break}return v=t.target.parentElement.getAttribute("data-id"),_=this.base+this.params.searchById+v,e.next=45,fetch(_);case 45:return g=e.sent,e.next=48,g.json();case 48:return y=e.sent,e.abrupt("return",o.createPopup(y.meals[0]));case 50:case"end":return e.stop()}}),e,this)})),s=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=a.apply(t,n);function s(t){e(o,r,i,s,c,"next",t)}function c(t){e(o,r,i,s,c,"throw",t)}s(void 0)}))},function(e){return s.apply(this,arguments)})}])&&t(r.prototype,i),n}());function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const i=new(function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(){return JSON.parse(localStorage.getItem("recipes"))||[]},(t="getRecipes")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}var t,n;return t=e,(n=[{key:"checkRecipe",value:function(e){return this.getRecipes().filter((function(t){return t.id===e.toString()})).length>0}},{key:"saveRecipe",value:function(e,t){var n=this.getRecipes();-1===n.findIndex((function(e){e.id}))&&(n.push({id:e,imgSrc:t}),localStorage.setItem("recipes",JSON.stringify(n)))}},{key:"deleteRecipe",value:function(e){var t=this.getRecipes(),n=t.indexOf(e);t.splice(n,1),localStorage.setItem("recipes",JSON.stringify(t))}}])&&r(t.prototype,n),e}());function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchForm=document.getElementById("searchForm"),this.searchInput=document.getElementById("searchInput"),this.recommendedList=document.getElementById("recommendedList"),this.recipesList=document.getElementById("recipesList"),this.favoritesList=document.getElementById("favoritesList"),this.popupContainer,this.popupCloseBtn}var t,r;return t=e,(r=[{key:"init",value:function(){var e=this;this.searchInput.addEventListener("focus",(function(t){return e.toggleForm(t)})),this.searchInput.addEventListener("blur",(function(t){return e.toggleForm(t)})),this.searchInput.addEventListener("input",(function(e){return n.search(e)})),this.searchForm.addEventListener("submit",(function(e){return n.search(e)})),this.recommendedList.addEventListener("click",(function(e){return n.search(e)})),this.recipesList.addEventListener("click",(function(t){return e.handleRecipeClick(t)})),this.favoritesList.addEventListener("click",(function(t){return e.handleFavoritesClick(t)}))}},{key:"toggleForm",value:function(e){"focus"===e.type?(e.currentTarget.parentElement.classList.add("active"),e.currentTarget.placeholder="",this.searchInput.value.length>0&&this.recommendedList.classList.add("active")):"blur"===e.type&&(e.currentTarget.parentElement.classList.remove("active"),e.currentTarget.placeholder="Search for a recipe...")}},{key:"updateRecommendedList",value:function(e){var t=new DocumentFragment;this.recommendedList.innerHTML="",e?(this.recommendedList.classList.add("active"),e.forEach((function(e){var n=document.createElement("li");n.classList.add("main__container__form__recommended-list__item"),n.textContent=e.strMeal,t.appendChild(n)})),this.recommendedList.appendChild(t)):this.recommendedList.classList.remove("active")}},{key:"resetSearchForm",value:function(){this.recommendedList.innerHTML="",this.recommendedList.classList.remove("active"),this.searchForm.reset()}},{key:"updateRecipesList",value:function(e){this.recipesList.innerHTML="",this.recipesList.classList.add("active"),this.resetSearchForm();var t=new DocumentFragment;e.forEach((function(e){var n=document.createElement("li");n.classList.add("main__container__recipes-list__item"),n.setAttribute("data-id",e.idMeal);var r=i.checkRecipe(e.idMeal)?"&#x1F499;":"&#x1F90D;",a=i.checkRecipe(e.idMeal)?"main__container__recipes-list__item__body__icon active":"main__container__recipes-list__item__body__icon",o='\n        <div class="main__container__recipes-list__item__header">\n          <img class="main__container__recipes-list__item__header__img" src='.concat(e.strMealThumb,'>\n        </div>\n        <div class="main__container__recipes-list__item__body">\n          <h2 class="main__container__recipes-list__item__body__title">').concat(e.strMeal,'</h2>\n          <button type="button" class="').concat(a,'">').concat(r,"</button>\n        </div>\n      ");n.innerHTML=o,t.appendChild(n)})),this.recipesList.appendChild(t)}},{key:"handleRecipeClick",value:function(e){if("BUTTON"===e.target.tagName&&e.target.className.includes("icon")){e.stopPropagation();var t=e.target.parentElement.parentElement.getAttribute("data-id"),r=e.target.parentElement.parentElement.firstElementChild.firstElementChild.src;this.toggleIcon(e,t,r)}else if("LI"===e.target.tagName)return n.search(e)}},{key:"toggleIcon",value:function(e,t,n){return e.target.classList.contains("active")?(e.target.classList.remove("active"),e.target.innerHTML="&#x1F90D;",i.deleteRecipe(t),this.updateFavoritesList()):e.target.classList.contains("active")?void 0:(e.target.classList.add("active"),e.target.innerHTML="&#x1F499",i.saveRecipe(t,n),this.updateFavoritesList())}},{key:"updateFavoritesList",value:function(){this.favoritesList.innerHTML="";var e=i.getRecipes(),t=new DocumentFragment;e.forEach((function(e){var n=document.createElement("li");n.className="main__container__favorites__favorites-list__item",n.setAttribute("data-id",e.id);var r=new Image;r.className="main__container__favorites__favorites-list__item__img",r.src=e.imgSrc;var i=document.createElement("span");i.className="main__container__favorites__favorites-list__item__delete",i.textContent="X",n.appendChild(r),n.appendChild(i),t.appendChild(n)})),this.favoritesList.appendChild(t)}},{key:"createPopup",value:function(e){var t=document.createElement("div");t.classList.add("popup-container"),t.id="popupContainer";var n=document.createElement("div");n.classList.add("popup-container__popup");for(var r="",i=1;i<=20;i++)e["strIngredient".concat(i)]&&(r+='\n        <li class="popup-container__popup__ingredients__list__item">\n          '.concat(e["strMeasure".concat(i)]," ").concat(e["strIngredient".concat(i)],"\n        </li>\n      "));var a='\n      <figure class="popup-container__popup__figure">\n        <figcaption class="popup-container__popup__figure__title">'.concat(e.strMeal,'</figcaption>\n        <img class="popup-container__popup__figure__img" src=').concat(e.strMealThumb,'>\n      </figure>\n      <div class="popup-container__popup__ingredients">\n        <h3 class="popup-container__popup__ingredients__title">Ingredients</h3>\n        <ul class="popup-container__popup__ingredients__list">').concat(r,'</ul>\n      </div>\n      <div class="popup-container__popup__instructions">\n        <p class="popup-container__popup__instructions__text">').concat(e.strInstructions,'</p>\n      </div>\n      <button type="button" id="popupCloseBtn" class="popup-container__popup__close">X</button>\n    ');n.innerHTML=a,t.appendChild(n),document.body.appendChild(t),this.popupCloseBtn=document.getElementById("popupCloseBtn"),this.popupCloseBtn.addEventListener("click",this.closePopup)}},{key:"closePopup",value:function(){this.popupContainer=document.getElementById("popupContainer"),this.popupContainer.remove()}},{key:"handleFavoritesClick",value:function(e){if("LI"!==e.target.tagName)return"IMG"===e.target.tagName?n.search(e):"SPAN"===e.target.tagName?this.deleteFromFavorites(e):void 0}},{key:"deleteFromFavorites",value:function(e){var t=e.target.parentElement.getAttribute("data-id"),n=this.favoritesList.querySelector('[data-id="'.concat(t,'"]'));i.deleteRecipe(t),n.remove();var r=this.recipesList.querySelector('[data-id="'.concat(t,'"]'))||null;r&&(r.lastElementChild.lastElementChild.classList.remove("active"),r.lastElementChild.lastElementChild.classList.innerText="&#x1F90D;")}}])&&a(t.prototype,r),e}());document.addEventListener("DOMContentLoaded",(function(){o.init(),o.updateFavoritesList()}))},564:function(e,t,n){!function(t){"use strict";var n,r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol&&Symbol.iterator||"@@iterator",a=t.regeneratorRuntime;if(a)e.exports=a;else{(a=t.regeneratorRuntime=e.exports).wrap=h;var o="suspendedStart",s="suspendedYield",c="executing",u="completed",l={},p=v.prototype=f.prototype;m.prototype=p.constructor=v,v.constructor=m,m.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):e.__proto__=v,e.prototype=Object.create(p),e},a.awrap=function(e){return new g(e)},_(y.prototype),a.async=function(e,t,n,r){var i=new y(h(e,t,n,r));return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(p),p[i]=function(){return this},p.toString=function(){return"[object Generator]"},a.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=n,this.done=!1,this.delegate=null,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?this.next=a.finallyLoc:this.complete(o),l},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},l}}}function h(e,t,r,i){var a=Object.create((t||f).prototype),p=new w(i||[]);return a._invoke=function(e,t,r){var i=o;return function(a,p){if(i===c)throw new Error("Generator is already running");if(i===u){if("throw"===a)throw p;return x()}for(;;){var h=r.delegate;if(h){if("return"===a||"throw"===a&&h.iterator[a]===n){r.delegate=null;var f=h.iterator.return;if(f&&"throw"===(m=d(f,h.iterator,p)).type){a="throw",p=m.arg;continue}if("return"===a)continue}var m;if("throw"===(m=d(h.iterator[a],h.iterator,p)).type){r.delegate=null,a="throw",p=m.arg;continue}if(a="next",p=n,!(v=m.arg).done)return i=s,v;r[h.resultName]=v.value,r.next=h.nextLoc,r.delegate=null}if("next"===a)r._sent=p,r.sent=i===s?p:n;else if("throw"===a){if(i===o)throw i=u,p;r.dispatchException(p)&&(a="next",p=n)}else"return"===a&&r.abrupt("return",p);if(i=c,"normal"===(m=d(e,t,r)).type){i=r.done?u:s;var v={value:m.arg,done:r.done};if(m.arg!==l)return v;r.delegate&&"next"===a&&(p=n)}else"throw"===m.type&&(i=u,a="throw",p=m.arg)}}}(e,r,p),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function f(){}function m(){}function v(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e){this.arg=e}function y(e){function t(t,n){var a=e[t](n),o=a.value;return o instanceof g?Promise.resolve(o.arg).then(r,i):Promise.resolve(o).then((function(e){return a.value=e,a}))}"object"==typeof process&&process.domain&&(t=process.domain.bind(t));var n,r=t.bind(e,"next"),i=t.bind(e,"throw");t.bind(e,"return"),this._invoke=function(e,r){function i(){return t(e,r)}return n=n?n.then(i,i):new Promise((function(e){e(i())}))}}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}}("object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n(564),n(256)})();